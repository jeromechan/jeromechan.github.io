---
author: jeromechan
comments: true
date: 2014-06-29 00:58:27+00:00
layout: post
slug: using-command-to-control-service-on-windows
title: Windows环境下使用命令行管理服务
wordpress_id: 24
permalink: /2014/06/29/:title/
categories:
- 技术编程
tags:
- 系统运维
---

一、创建服务

1.1 命令”sc create”官方说明
<p style="padding-left: 30px;">描述:
在注册表和服务数据库中创建服务项。
用法:
<code>sc &lt;server&gt; create [service name] [binPath= ] &lt;option1&gt; &lt;option2&gt;...</code></p>
<p style="padding-left: 30px;">选项:
注意: 选项名称包括等号。
等号和值之间需要一个空格。
<code>type= &lt;own|share|interact|kernel|filesys|rec&gt;</code></p>
<p style="padding-left: 60px;">(默认 = own)</p>
<p style="padding-left: 30px;">start= &lt;boot|system|auto|demand|disabled|delayed-auto&gt;</p>
<p style="padding-left: 60px;">(默认 = demand)</p>
<p style="padding-left: 30px;">error= &lt;normal|severe|critical|ignore&gt;</p>
<p style="padding-left: 60px;">(默认 = normal)</p>
<p style="padding-left: 30px;">binPath= &lt;BinaryPathName&gt;
group= &lt;LoadOrderGroup&gt;
tag= &lt;yes|no&gt;
depend= &lt;依存关系(以 / (斜杠) 分隔)&gt;
obj= &lt;AccountName|ObjectName&gt;</p>
<p style="padding-left: 60px;">(默认 = LocalSystem)</p>
<p style="padding-left: 30px;">DisplayName= &lt;显示名称&gt;
password= &lt;密码&gt;</p>
<p style="padding-left: 30px;"><!--more--></p>
<p style="padding-left: 30px;"></p>
1.2 使用示例
<p style="padding-left: 30px;"><code>&gt; sc create "Memcached Master" start=auto binPath="D:\memcached\memcached.exe -d install -m 32 -p 11211" DisplayName= "Memcached Master"
（图示：添加指定目录的memcache服务）</code></p>
二、删除服务
2.1 命令”sc delete”官方说明
<p style="padding-left: 30px;">描述:
从注册表删除服务项。
如果服务正在运行，或另一进程已经打开
到此服务的句柄，服务将简单地标记为
删除。
用法:
<code>sc &lt;server&gt; delete [service name]</code></p>
2.2 使用示例
<p style="padding-left: 30px;">&gt; sc delete “Memcached Master”
（图示：添加指定目录的Memcached Master服务）</p>
三、手工操作简述

步骤1. 打开注册表编辑器（<code>Win+R打开运行 → regedit → 回车</code>）
步骤2. 寻找服务键值目录（<code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services</code>），一般服务会以相同的名字在这里显示一个主健，对应其键值进行CURD操作即便可。